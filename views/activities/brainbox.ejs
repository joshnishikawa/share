<%- include('../head'); -%>

<body>
  <div class="d-flex">
    <a href="/teachers" class="btn btn-sm btn-outline-secondary py-0 me-1">
      <i class="material-icons">close</i>
    </a>

    <button class="btn btn-sm btn-outline-secondary p-0 me-1" data-bs-toggle="modal" data-bs-target="#brainbox_modal">
      <i class="material-icons">info</i>
    </button>

    <form id="brainbox_form" action="brainbox" method="GET" class="p-0">
      <select id="brainbox_select" class="form-control form-control-sm" name="brainbox" required>
  <% for (let d of brainbox ) { %>
        <option value="<%- d %>"><%- d %></option>
  <% } %>
      </select>
    </form>
  </div>

  <div class="container-fluid" style="min-height:100vh;">
    <div class="row">
      <div id="img_container" class="col text-center">
        <img src="<%- selected %>" alt="brainbox" style="height:90vh;" />
      </div>
    </div>

  </div>

<script>
$(function(){
  var url = window.location.href;
  const searchParams = new URLSearchParams(url.substring(url.indexOf('?')));
  const setName = searchParams.get('brainbox');
  $('#brainbox_select').val(setName);

  $('#brainbox_select').on('change', function(){
    $('#brainbox_form').submit();
  });
});

</script>
<%- include ("../modals/modal_brainbox.ejs") %>
<%- include('../foot'); -%><!-- FOOT INCLUDES SCRIPTS AND </body> -->
